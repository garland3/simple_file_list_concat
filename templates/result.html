<!-- templates/result.html -->

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Concatenation Results</title>
    <link rel="stylesheet" href="{{ url_for('static', path='/styles.css') }}">
</head>

<body>
    <header>
        <h1>Concatenation Results</h1>
    </header>

    <div class="results-container">
        <h2>Selected Files:</h2>
        <ul>
            {% for file in selected_files %}
            <li>{{ file }}</li>
            {% endfor %}
        </ul>

        <h2>Concatenated Content:</h2>
        <textarea readonly>{{ content }}</textarea>
    </div>

    <div class="button-container">
        <!-- Form-based Back Button -->
        <form action="/" method="get" style="display: inline;">
            <button type="submit" class="secondary-button">Back to File Explorer</button>
        </form>

        <button onclick="copyToClipboard()" class="primary-button">Copy Content</button>
    </div>

    <script>
        function copyToClipboard() {
            const textarea = document.querySelector('textarea');
            textarea.select();
            textarea.setSelectionRange(0, 99999); // For mobile devices

            try {
                document.execCommand('copy');
                alert('Content copied to clipboard!');
            } catch (err) {
                alert('Failed to copy content.');
            }
        }
    </script>
</body>

</html>
